# ===== PostgreSQL Database =====
DATABASE_URL=postgresql://user:pass@localhost/droply

# ===== Cloudflare R2 (S3-compatible) =====
# Leave these empty for demo mode, or fill with real credentials for production
R2_ACCOUNT_ID=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET_NAME=droply
R2_PUBLIC_BASE=https://<your-r2-public-domain>         # optional; used to build file URLs
# Budget (bytes). We'll target 9GB to keep headroom under the free 10GB.
# ~9.0 GB
R2_MAX_TOTAL_BYTES=9663676416



# ===== Redis Configuration =====
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_SSL=false
REDIS_CA=/etc/ssl/certs/ca-certificates.crt
REDIS_CERT=/etc/ssl/certs/redis-client.crt
REDIS_KEY=/etc/ssl/certs/redis-client.key

# ===== Rate Limiting Configuration =====
RATE_LIMIT_REQUESTS_PER_MINUTE=30   # Default requests per minute (as requested)
RATE_LIMIT_BLOCK_DURATION=300       # Block duration in seconds (5 minutes)
RATE_LIMIT_WINDOW_SIZE=60           # Window size in seconds (1 minute)

# Redis key prefixes
RATE_LIMIT_PREFIX=droply:rate_limit
BLOCKED_IPS_PREFIX=droply:blocked_ips
WHITELIST_PREFIX=droply:whitelist

# Redis connection options
REDIS_RETRY_DELAY=300
REDIS_MAX_RETRIES=3
REDIS_CONNECT_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000
REDIS_MAX_CLIENTS=10
REDIS_MIN_CLIENTS=2

# ===== App =====
NEXT_PUBLIC_APP_URL=http://localhost:3000
MAX_FILE_BYTES=104857600     # 100 MB
ALLOWED_MIME_PREFIXES=image/,application/pdf,video/

# Note: For demo mode, leave R2 credentials empty. The app will work in demo mode.
# For production, fill in your Cloudflare R2 credentials and PostgreSQL connection.
