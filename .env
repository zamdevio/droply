# ===== Prisma Backed Postgre Database =====
DATABASE_URL=postgresql://zamdev:ZamDev522@84.247.133.163:5432/droply?schema=public

# ===== Cloudflare R2 (S3-compatible) =====
# Leave these empty for demo mode, or fill with real credentials for production
R2_ACCOUNT_ID=494ad445cc6d8f800e530f4e78cbe042
R2_ACCESS_KEY_ID=561989967ff8203f055ee8dcc5d3a19c
R2_SECRET_ACCESS_KEY=8b051107f9f206b494c0c6faf6d229ee5e939f02fa25354f71361a78c3b378ae
R2_BUCKET_NAME=droply
R2_PUBLIC_BASE=https://494ad445cc6d8f800e530f4e78cbe042.r2.cloudflarestorage.com
# Budget (bytes). We'll target 9GB to keep headroom under the free 10GB.
R2_MAX_TOTAL_BYTES=9663676416                          # ~9.0 GB

# ===== Rate Limiting (Redis Server) =====
REDIS_HOST=84.247.133.163
REDIS_PASSWORD=ZamDev522@
REDIS_PORT=6379
REDIS_PASSWORD=ZamDev999
REDIS_USE_TLS=treu

# Limits
RATE_LIMIT_REQUESTS_PER_MINUTE=60   # Default requests per minute
RATE_LIMIT_BLOCK_DURATION=300       # Block duration in seconds (5 minutes)
RATE_LIMIT_WINDOW_SIZE=60           # Window size in seconds (1 minute)

# Redis key prefixes
RATE_LIMIT_PREFIX='droply:rate_limit'
BLOCKED_IPS_PREFIX='droply:blocked_ips'
WHITELIST_PREFIX='droply:whitelist'

# Redis config
REDIS_RETRY_DELAY=100
REDIS_MAX_RETRIES=3
REDIS_CONNECT_TIMEOUT=10000   # in ms
REDIS_COMMAND_TIMEOUT=5000    # in ms
SYSTEM_DEFAULT_JWT=SYSTEM_299@_SYSTEM_JWT_26519@

# ===== App =====
NEXT_PUBLIC_APP_URL=http://localhost:3000
MAX_FILE_BYTES=104857600     # 100 MB
ALLOWED_MIME_PREFIXES=image/,application/pdf,video/

# Note: For demo mode, leave R2 credentials empty. The app will work in demo mode.
# For production, fill in your Cloudflare R2 credentials.
